<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Preview Codelab – Chrome Extension</title>
  <meta name="description" content="Preview Codelab: one‑click switch between a Google Doc and its Codelab preview.">
  <style>
    :root{
      --bg:#0b0c10;
      --text:#111;
      --muted:#555;
      --accent:#1a73e8;
      --card:#fff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color:var(--text);
      background:#f6f7fb;
      line-height:1.6;
    }
    header{
      background:linear-gradient(180deg,#0b0c10 0%, #172036 100%);
      color:#fff;
      padding: clamp(32px,6vw,72px) 20px;
      text-align:center;
    }
    header h1{margin:0 0 8px;font-size:clamp(28px,5vw,44px)}
    header p.sub{margin:0 auto;max-width:820px;opacity:.9;font-size:clamp(16px,2.5vw,20px)}
    .cta{
      margin-top:22px; display:flex; gap:12px; justify-content:center; flex-wrap:wrap;
    }
    .btn{
      display:inline-block;
      padding:12px 18px;
      border-radius:8px;
      text-decoration:none;
      font-weight:600;
      border:2px solid rgba(255,255,255,.25);
      color:#fff;
    }
    .btn.primary{ background:var(--accent); border-color:transparent; }
    .btn.ghost{ background:transparent; }
    .container{max-width:1100px;margin:0 auto;padding:30px 18px;}
    .card{
      background:var(--card);
      border-radius:14px;
      box-shadow: 0 10px 24px rgba(16,24,40,.08);
      padding: clamp(16px,3vw,28px);
    }
    .grid{
      display:grid; gap:18px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 900px){
      .grid{ grid-template-columns: 1.2fr 1fr; align-items:center; }
    }
    img.hero{
      width:100%; height:auto; border-radius:12px; display:block;
      box-shadow:0 12px 24px rgba(0,0,0,.15);
      background:#000;
    }
    h2{font-size: clamp(22px,3.2vw,28px); margin: 6px 0 8px;}
    ul{margin:8px 0 0 18px}
    .muted{color:var(--muted)}
    .section{margin: 30px 0}
    footer{
      text-align:center; color:#6b7280; padding:28px 12px; font-size:14px;
    }
    code{background:#f0f3f9; padding:.2em .4em; border-radius:6px}
  </style>
</head>
<body>

<header>
  <h1>Preview Codelab</h1>
  <p class="sub">One‑click switching between a Google Doc and its Codelab preview — and back again. Lightweight, private, and fast.</p>
  <div class="cta">
    <a class="btn primary" href="#" aria-label="Add to Chrome">Add to Chrome</a>
    <a class="btn ghost" href="privacy.html">Privacy Policy</a>
  </div>
</header>

<main class="container">
  <div class="grid section">
    <div class="card">
      <h2>From this… to this!</h2>
      <p class="muted">Write in Google Docs. Publish and iterate in Codelabs. Toggle between both with a single toolbar click.</p>
      <ul>
        <li><strong>On a Google Doc?</strong> Open its Codelab preview instantly.</li>
        <li><strong>On a Codelab?</strong> We fetch its <code>codelab.json</code> to jump straight to the source Doc.</li>
        <li><strong>Smart action state:</strong> The button only enables on supported pages.</li>
        <li><strong>No tracking:</strong> Works entirely in your browser. No analytics. No ads.</li>
      </ul>
      <div class="section">
        <h2>Why you’ll love it</h2>
        <ul>
          <li>Faster authoring feedback loop</li>
          <li>Zero configuration</li>
          <li>Clean Manifest V3, service worker based</li>
        </ul>
      </div>
    </div>
    <div>
      <img class="hero" src="assets/from-this-to-this.png" alt="Preview Codelab: From Google Doc to Codelab preview">
    </div>
  </div>

  <div class="card section">
    <h2>Minimal permissions</h2>
    <ul>
      <li><code>tabs</code> — read the active tab’s URL to know what to open.</li>
      <li><code>https://codelabs.developers.google.com/*</code> — fetch the small <code>codelab.json</code> file on Codelabs pages.</li>
    </ul>
    <p class="muted">That’s it — no access to unrelated sites, no background data collection.</p>
  </div>

  <div class="card section">
    <h2>How it works</h2>
    <ol>
      <li>Click the toolbar button on a supported page.</li>
      <li>The extension checks the current URL and decides the action.</li>
      <li>It opens either the preview or the source Doc in a new tab.</li>
    </ol>
  </div>
</main>

<footer>
  <p>© {year} Preview Codelab • <a href="mailto:extensions@sweb.uk">extensions@sweb.uk</a></p>
</footer>

<script>
  // Insert current year in footer
  document.querySelector('footer').innerHTML =
    document.querySelector('footer').innerHTML.replace('{year}', new Date().getFullYear());
</script>

</body>
</html>
